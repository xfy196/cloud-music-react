(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{260:function(n,e,t){"use strict";var r=t(3),a=t(4),i=t(0),o=t.n(i);function l(){var n=Object(r.a)(["\n    position: fixed;\n    left: 0; right: 0; top: 0; bottom: 0;\n    width: 1rem;\n    height: 1rem;\n    margin: auto;\n"]);return l=function(){return n},n}var c=a.default.div(l());e.a=o.a.memo(c)},266:function(n,e,t){"use strict";var r=t(3),a=t(0),i=t.n(a);function o(){var n=Object(r.a)(["\n  position : fixed;\n  padding : .05rem .1rem;\n  padding-top : 0;\n  height : .44rem;\n  width : 100%;\n  z-index: 100;\n  display : flex;\n  line-height : .44rem;\n  background: ",";\n  color: #f1f1f1;\n  >i{\n    margin-right: .05rem;\n    font-size: .2rem;\n    width: .2rem;\n  }\n  h1{\n    font-size: .16rem;\n    font-weight: 700;\n    margin : 0;\n  }\n"]);return o=function(){return n},n}var l=t(4).default.header(o(),(function(n){var e=n.color;return e||""})),c=Object(a.forwardRef)((function(n,e){var t=n.title,r=n.handleClick,a=n.isMarquee,o=n.color;return console.log(a),i.a.createElement(l,{color:o,ref:e},i.a.createElement("i",{className:"iconfont back",onClick:r},""),a?i.a.createElement("marquee",null,i.a.createElement("h1",null,t)):i.a.createElement("h1",null,t))}));c.defaultProps={handleClick:function(){},title:""},e.a=i.a.memo(c)},267:function(n,e,t){"use strict";t.d(e,"b",(function(){return c})),t.d(e,"a",(function(){return s}));var r=t(3),a=t(4),i=t(1);function o(){var n=Object(r.a)(["\n  >li {\n    display : flex;\n    align-items : center;\n    height : .6rem;\n    .index {\n      font-size : .16rem;\n      flex-basis: .6rem;\n      width: .60rem;\n      height: .60rem;\n      line-height: .60rem;\n      text-align: center;\n    }\n    .info {\n      box-sizing : border-box;\n      flex: 1;\n      height : 100%;\n      display :flex;\n      flex-direction : column;\n      padding : .05rem 0;\n      justify-content : space-around;\n      border-bottom-style : solid;\n      border-bottom-color : ",";\n      text-overflow: ellipsis;\n      overflow : hidden;\n      white-space : nowrap; \n      >span{\n        text-overflow : ellipsis;\n        overflow: hidden;\n        white-space : nowrap;\n        display: flex;\n        align-items: center;\n        line-height: 1;\n        flex: 1;\n        &:first-child {\n          font-size : .16rem;\n          color : ",";\n        }\n        &:last-child {\n          font-size : .12rem;\n          color : ",";\n        }\n      }\n    }\n  }\n"]);return o=function(){return n},n}function l(){var n=Object(r.a)(["\n  background : #fff;\n  opacity: 0.98;\n  border-top-left-radius : .1rem;\n  border-top-right-radius : .1rem;\n  .first_line {\n    display : flex;\n    box-sizing: border-box;\n    padding: .1rem 0;\n    margin-left: .1rem;\n    position: relative;\n    justify-content: space-between;\n    border-bottom-style: solid;\n    border-bottom-color: ",";\n    .play_all {\n      display: inline-block;\n      line-height: .24rem;\n      color: ",";\n      i{\n        font-size : .24rem;\n        margin-right: .1rem;\n        vertical-align: top;\n      }\n      >span{\n        vertical-align : top;\n        font-size : .16rem;\n      }\n      .sum {\n        font-size: .12rem;\n        color: ",";\n      }\n    }\n    .add_list {\n      display : flex;\n      align-items: center;\n      position: absolute;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 1.3rem;\n      line-height: .34rem;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: .03rem;\n      vertical-align: top;\n      i{\n        vertical-align: top;\n        font-size: .1rem;\n        margin: 0 .05rem 0 .1rem;\n      }\n      span {\n        font-size: .14rem;\n        line-height: .34rem;\n      }\n    }\n  }\n"]);return l=function(){return n},n}var c=a.default.div(l(),i.a["border-color"],i.a["font-color-desc"],i.a["font-color-desc-v2"],i.a["theme-color"],i.a["font-color-light"]),s=a.default.ul(o(),i.a["border-color"],i.a["font-color-desc"],i.a["font-color-desc-v2"])},268:function(n,e,t){"use strict";var r=t(3),a=t(0),i=t.n(a),o=t(4),l=t(1);function c(){var n=Object(r.a)(["\n  .icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -.1rem;\n    margin-left: -.1rem;\n    color: ",";\n    font-size: .14rem;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    transform: translate3d(0, 0, 0);\n    >div{\n      transition: transform 1s;\n    }\n  }\n"]);return c=function(){return n},n}var s=o.default.div(c(),l.a["theme-color"]),m=Object(a.forwardRef)((function(n,e){var t=Object(a.useRef)();Object(a.useEffect)((function(){for(var n=0;n<10;n++){var e=(r=void 0,a=void 0,r="<div class='icon_wrapper'>".concat('<div class="iconfont">&#xe642;</div>',"</div>"),(a=document.createElement("div")).innerHTML=r,a.firstChild);t.current.appendChild(e)}var r,a;[].slice.call(t.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style.transform="translate3d(0, 0, 0)",this.running=!1,this.querySelector("div").style.transform="translate3d(0, 0, 0)"}),!1)}))}),[]);var r=function(n){for(var e=n.x,r=n.y,a=function(n){var a=[].slice.call(t.current.children)[n];if(!1===a.running)return a.style.left=e/100+"rem",a.style.top=r/100+"rem",a.style.display="inline-block",setTimeout((function(){a.running=!0,a.style.transform="translate3d(-.4rem, 7.5rem, 0)",a.querySelector("div").style.transform="translate3d(-.4rem, 0, 0)"}),20),"break"},i=0;i<10;i++){if("break"===a(i))break}};return Object(a.useImperativeHandle)(e,(function(){return{startAnimation:r}})),i.a.createElement(s,{ref:t})}));e.a=i.a.memo(m)},269:function(n,e,t){"use strict";var r=t(0),a=t.n(r),i=t(267),o=t(13),l=t(46),c=t(15),s=(t(9),a.a.forwardRef((function(n,e){var t,r=n.songs,l=n.collectCount,c=n.showCollect,s=n.musicAnimation,m=n.changePlayListDispatch,u=n.changeCurrentIndexDispatch,d=n.changeSequecePlayListDispatch,f=r.length,g=function(n,e,t){m(r),d(r),u(e),s(n.nativeEvent.clientX,n.nativeEvent.clientY)};return a.a.createElement(i.b,null,a.a.createElement("div",{className:"first_line border-bottom"},a.a.createElement("div",{className:"play_all",onClick:function(n){return g(n,0)}},a.a.createElement("i",{className:"iconfont"},""),a.a.createElement("span",null,"播放全部",a.a.createElement("span",{className:"sum"}," (共",f,"首)"))),c?function(n){return a.a.createElement("div",{className:"add_list"},a.a.createElement("i",{className:"iconfont"},""),a.a.createElement("span",null,"收藏(",Math.floor(n/1e3)/10,"万)"))}(l):null),(t=r,a.a.createElement(i.a,null,0!==t.length&&t.map((function(n,e){return a.a.createElement("li",{key:n.id,onClick:function(t){return g(t,e,n.id)}},a.a.createElement("span",{className:"index"},e+1),a.a.createElement("div",{className:"info"},a.a.createElement("span",null,n.name),a.a.createElement("span",null,n.ar?Object(o.e)(n.ar):Object(o.e)(n.artists)," - ",n.al?n.al.name:n.album.name)))})))))})));e.a=Object(l.b)((function(n){return{}}),(function(n){return{changePlayListDispatch:function(e){n(Object(c.e)(e))},changeCurrentIndexDispatch:function(e){n(Object(c.a)(e))},changeSequecePlayListDispatch:function(e){n(Object(c.h)(e))}}}))(a.a.memo(s))},289:function(n,e,t){"use strict";t.r(e);var r=t(12),a=t(0),i=t.n(a),o=t(46),l=t(259),c=t(266),s=t(3),m=t(4),u=t(1);function d(){var n=Object(s.a)(["\n  position : fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom : ",";\n  z-index: 100;\n  width: 100%;\n  overflow: hidden;\n  background : #f2f3f4;\n  transform-origin : right bottom;\n  &.fly-enter, &.fly-appear{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active, &.fly-appear-active{\n    transition: transform .3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit{\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n    transition: transform .3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"]);return d=function(){return n},n}var f=m.default.div(d(),(function(n){return n.play>0?"60px":0})),g=t(58);function p(){var n=Object(s.a)(["\n  position : relative;\n  display : flex;\n  justify-content : space-between;\n  box-sizing: border-box;\n  padding: 0 .30rem .20rem .30rem;\n  margin: -1rem 0 0 0;\n  >div {\n    display : flex;\n    flex-direction: column;\n    line-height: .20rem;\n    text-align: center;\n    font-size: .12rem;\n    color: #3b1f1f;\n    color: ",";\n    z-index: 1000;\n    font-weight: 500;\n  }\n"]);return p=function(){return n},n}function h(){var n=Object(s.a)(["\n  background-size: 100%;\n  padding: .05rem .2rem;\n  padding-bottom: .5rem;\n  margin-bottom: .2rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  height: 2.75rem;\n  position: relative;\n  .background {\n    z-index: -1;\n    background: contain;\n    background: url(",") left top no-repeat;\n    background-position: 0 0;\n    background-size: 100% 100%;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    filter: blur(.2rem);\n  }\n  .img_wrapper{\n    width: 1.2rem;\n    height : 1.2rem;\n    position : relative;\n    .decorate{\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: .35rem;\n      border-radius: .03rem;\n      background: linear-gradient(hsla(0,0%,43%,.4),hsla(0,0%,100%,0));\n    }\n    img {\n      width: 1.20rem;\n      height: 1.20rem;\n      border-radius: .03rem;\n    }\n    .play_count {\n      position : absolute;\n      right: .02rem;\n      top: .02rem;\n      font-size: .12rem;\n      line-height: .15rem;\n      color: ",";\n      .play {\n        vertical-align : top;\n      }\n    }\n  }\n  .desc_wrapper{\n    display : flex;\n    flex-direction: column;\n    justify-content : space-around;\n    flex : 1;\n    height: 1.20rem;\n    padding: 0 .1rem;\n    .title {\n      max-height : .7rem;\n      overflow : hidden;\n      text-overflow : ellipsis;\n      color : ",";\n      font-weight : 700;\n      line-height : 1.5;\n      font-size : .16rem;\n    }\n    .person {\n      display : flex;\n      .avatar {\n        width: .2rem;\n        height: .2rem;\n        margin-right : .05rem;\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius : 50%;\n        }\n      }\n      .name {\n        line-height: .2rem;\n        font-size: .14rem;\n        color: #bba8a8;\n      }\n    }\n  }\n"]);return h=function(){return n},n}var b=m.default.div(h(),(function(n){return n.background}),u.a["font-color-light"],u.a["font-color-light"]),v=m.default.div(p(),u.a["font-color-light"]),y=t(269);var E=i.a.memo((function(n){var e=n.currentAlbum,t=n.musicAnimation,r=n.songs;return i.a.createElement("div",null,i.a.createElement(b,{background:e.coverImgUrl},i.a.createElement("div",{className:"background"}),i.a.createElement("div",{className:"img_wrapper"},i.a.createElement("div",{className:"decorate"}),i.a.createElement("img",{src:e.coverImgUrl,alt:""}),i.a.createElement("div",{className:"play_count"},i.a.createElement("i",{className:"iconfont play"},""),i.a.createElement("span",{className:"count"},parseInt(e.playCount/1e4),"万"))),i.a.createElement("div",{className:"desc_wrapper"},i.a.createElement("div",{className:"title"},e.name),i.a.createElement("div",{className:"person"},i.a.createElement("div",{className:"avatar"},i.a.createElement("img",{src:e.creator.avatarUrl,alt:""})),i.a.createElement("div",{className:"name"},e.creator.nickname)))),i.a.createElement(v,null,i.a.createElement("div",null,i.a.createElement("i",{className:"iconfont"},""),"评论"),i.a.createElement("div",null,i.a.createElement("i",{className:"iconfont"},""),"点赞"),i.a.createElement("div",null,i.a.createElement("i",{className:"iconfont"},""),"收藏"),i.a.createElement("div",null,i.a.createElement("i",{className:"iconfont"},""),"更多")),i.a.createElement(y.a,{songs:r,collectCount:e.subscribedCount,showCollect:!0,musicAnimation:t}))})),x=t(101),w=t(13),j=t(260),O=t(94),k=t(268);e.default=Object(o.b)((function(n){return{currentAlbum:n.getIn(["album","currentAlbum"]),enterLoading:n.getIn(["album","enterLoading"]),songsCount:n.getIn(["player","playList"]).size,songs:n.getIn(["album","songs"])}}),(function(n){return{getAlbumListDispatch:function(e){n(Object(x.a)(!0)),n(Object(x.b)(e))}}}))(i.a.memo((function(n){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),o=t[0],s=t[1],m=Object(a.useState)("歌单"),d=Object(r.a)(m,2),p=d[0],h=d[1],b=Object(a.useState)(!1),v=Object(r.a)(b,2),y=v[0],x=v[1],z=n.match.params.id,N=Object(a.useRef)(),C=Object(a.useRef)(),L=n.getAlbumListDispatch,_=n.songsCount,A=n.pullUpLoading,I=n.currentAlbum,S=n.enterLoading,D=n.songs,R=I.toJS(),q=D.toJS(),M=Object(a.useRef)(null),P=Object(a.useCallback)((function(){s(!1)}),[]);Object(a.useEffect)((function(){L(z)}),[L,z]);var U=Object(a.useCallback)((function(n){var e=N.current,t=-e.getBoundingClientRect().height,r=Math.abs(n.y/t);n.y<t?(e.style.backgroundColor=u.a["theme-color"],e.style.opacity=Math.min(1,(r-1)/2),h(R&&R.name),x(!0)):(e.style.backgroundColor="",e.style.opacity=1,h("歌单"),x(!1))}));return i.a.createElement(l.a,{in:o,timeout:300,appear:!0,classNames:"fly",mountOnEnter:!0,unmountOnExit:!0,onExited:n.history.goBack},i.a.createElement(f,{play:_},S?i.a.createElement(j.a,null,i.a.createElement(O.a,null)):i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{ref:N,title:p,isMarquee:y,handleClick:P}),!Object(w.g)(R)&&i.a.createElement(g.a,{ref:M,onScroll:U,pullUpLoading:A,bounceTop:!1},i.a.createElement(E,{songs:q,currentAlbum:R,musicAnimation:function(n,e){C.current.startAnimation({x:n,y:e})}}))),i.a.createElement(k.a,{ref:C})))})))}}]);