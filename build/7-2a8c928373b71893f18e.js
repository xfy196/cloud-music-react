(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{260:function(n,e,t){"use strict";var r=t(3),a=t(4),i=t(0),o=t.n(i);function c(){var n=Object(r.a)(["\n    position: fixed;\n    left: 0; right: 0; top: 0; bottom: 0;\n    width: 1rem;\n    height: 1rem;\n    margin: auto;\n"]);return c=function(){return n},n}var l=a.default.div(c());e.a=o.a.memo(l)},266:function(n,e,t){"use strict";var r=t(3),a=t(0),i=t.n(a);function o(){var n=Object(r.a)(["\n  position : fixed;\n  padding : .05rem .1rem;\n  padding-top : 0;\n  height : .44rem;\n  width : 100%;\n  z-index: 100;\n  display : flex;\n  line-height : .44rem;\n  background: ",";\n  color: #f1f1f1;\n  >i{\n    margin-right: .05rem;\n    font-size: .2rem;\n    width: .2rem;\n  }\n  h1{\n    font-size: .16rem;\n    font-weight: 700;\n    margin : 0;\n  }\n"]);return o=function(){return n},n}var c=t(4).default.header(o(),(function(n){var e=n.color;return e||""})),l=Object(a.forwardRef)((function(n,e){var t=n.title,r=n.handleClick,a=n.isMarquee,o=n.color;return console.log(a),i.a.createElement(c,{color:o,ref:e},i.a.createElement("i",{className:"iconfont back",onClick:r},""),a?i.a.createElement("marquee",null,i.a.createElement("h1",null,t)):i.a.createElement("h1",null,t))}));l.defaultProps={handleClick:function(){},title:""},e.a=i.a.memo(l)},267:function(n,e,t){"use strict";t.d(e,"b",(function(){return l})),t.d(e,"a",(function(){return s}));var r=t(3),a=t(4),i=t(1);function o(){var n=Object(r.a)(["\n  >li {\n    display : flex;\n    align-items : center;\n    height : .6rem;\n    .index {\n      font-size : .16rem;\n      flex-basis: .6rem;\n      width: .60rem;\n      height: .60rem;\n      line-height: .60rem;\n      text-align: center;\n    }\n    .info {\n      box-sizing : border-box;\n      flex: 1;\n      height : 100%;\n      display :flex;\n      flex-direction : column;\n      padding : .05rem 0;\n      justify-content : space-around;\n      border-bottom-style : solid;\n      border-bottom-color : ",";\n      text-overflow: ellipsis;\n      overflow : hidden;\n      white-space : nowrap; \n      >span{\n        text-overflow : ellipsis;\n        overflow: hidden;\n        white-space : nowrap;\n        display: flex;\n        align-items: center;\n        line-height: 1;\n        flex: 1;\n        &:first-child {\n          font-size : .16rem;\n          color : ",";\n        }\n        &:last-child {\n          font-size : .12rem;\n          color : ",";\n        }\n      }\n    }\n  }\n"]);return o=function(){return n},n}function c(){var n=Object(r.a)(["\n  background : #fff;\n  opacity: 0.98;\n  border-top-left-radius : .1rem;\n  border-top-right-radius : .1rem;\n  .first_line {\n    display : flex;\n    box-sizing: border-box;\n    padding: .1rem 0;\n    margin-left: .1rem;\n    position: relative;\n    justify-content: space-between;\n    border-bottom-style: solid;\n    border-bottom-color: ",";\n    .play_all {\n      display: inline-block;\n      line-height: .24rem;\n      color: ",";\n      i{\n        font-size : .24rem;\n        margin-right: .1rem;\n        vertical-align: top;\n      }\n      >span{\n        vertical-align : top;\n        font-size : .16rem;\n      }\n      .sum {\n        font-size: .12rem;\n        color: ",";\n      }\n    }\n    .add_list {\n      display : flex;\n      align-items: center;\n      position: absolute;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 1.3rem;\n      line-height: .34rem;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: .03rem;\n      vertical-align: top;\n      i{\n        vertical-align: top;\n        font-size: .1rem;\n        margin: 0 .05rem 0 .1rem;\n      }\n      span {\n        font-size: .14rem;\n        line-height: .34rem;\n      }\n    }\n  }\n"]);return c=function(){return n},n}var l=a.default.div(c(),i.a["border-color"],i.a["font-color-desc"],i.a["font-color-desc-v2"],i.a["theme-color"],i.a["font-color-light"]),s=a.default.ul(o(),i.a["border-color"],i.a["font-color-desc"],i.a["font-color-desc-v2"])},268:function(n,e,t){"use strict";var r=t(3),a=t(0),i=t.n(a),o=t(4),c=t(1);function l(){var n=Object(r.a)(["\n  .icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -.1rem;\n    margin-left: -.1rem;\n    color: ",";\n    font-size: .14rem;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    transform: translate3d(0, 0, 0);\n    >div{\n      transition: transform 1s;\n    }\n  }\n"]);return l=function(){return n},n}var s=o.default.div(l(),c.a["theme-color"]),f=Object(a.forwardRef)((function(n,e){var t=Object(a.useRef)();Object(a.useEffect)((function(){for(var n=0;n<10;n++){var e=(r=void 0,a=void 0,r="<div class='icon_wrapper'>".concat('<div class="iconfont">&#xe642;</div>',"</div>"),(a=document.createElement("div")).innerHTML=r,a.firstChild);t.current.appendChild(e)}var r,a;[].slice.call(t.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style.transform="translate3d(0, 0, 0)",this.running=!1,this.querySelector("div").style.transform="translate3d(0, 0, 0)"}),!1)}))}),[]);var r=function(n){for(var e=n.x,r=n.y,a=function(n){var a=[].slice.call(t.current.children)[n];if(!1===a.running)return a.style.left=e/100+"rem",a.style.top=r/100+"rem",a.style.display="inline-block",setTimeout((function(){a.running=!0,a.style.transform="translate3d(-.4rem, 7.5rem, 0)",a.querySelector("div").style.transform="translate3d(-.4rem, 0, 0)"}),20),"break"},i=0;i<10;i++){if("break"===a(i))break}};return Object(a.useImperativeHandle)(e,(function(){return{startAnimation:r}})),i.a.createElement(s,{ref:t})}));e.a=i.a.memo(f)},269:function(n,e,t){"use strict";var r=t(0),a=t.n(r),i=t(267),o=t(13),c=t(46),l=t(15),s=(t(9),a.a.forwardRef((function(n,e){var t,r=n.songs,c=n.collectCount,l=n.showCollect,s=n.musicAnimation,f=n.changePlayListDispatch,u=n.changeCurrentIndexDispatch,d=n.changeSequecePlayListDispatch,m=r.length,g=function(n,e,t){f(r),d(r),u(e),s(n.nativeEvent.clientX,n.nativeEvent.clientY)};return a.a.createElement(i.b,null,a.a.createElement("div",{className:"first_line border-bottom"},a.a.createElement("div",{className:"play_all",onClick:function(n){return g(n,0)}},a.a.createElement("i",{className:"iconfont"},""),a.a.createElement("span",null,"播放全部",a.a.createElement("span",{className:"sum"}," (共",m,"首)"))),l?function(n){return a.a.createElement("div",{className:"add_list"},a.a.createElement("i",{className:"iconfont"},""),a.a.createElement("span",null,"收藏(",Math.floor(n/1e3)/10,"万)"))}(c):null),(t=r,a.a.createElement(i.a,null,0!==t.length&&t.map((function(n,e){return a.a.createElement("li",{key:n.id,onClick:function(t){return g(t,e,n.id)}},a.a.createElement("span",{className:"index"},e+1),a.a.createElement("div",{className:"info"},a.a.createElement("span",null,n.name),a.a.createElement("span",null,n.ar?Object(o.e)(n.ar):Object(o.e)(n.artists)," - ",n.al?n.al.name:n.album.name)))})))))})));e.a=Object(c.b)((function(n){return{}}),(function(n){return{changePlayListDispatch:function(e){n(Object(l.e)(e))},changeCurrentIndexDispatch:function(e){n(Object(l.a)(e))},changeSequecePlayListDispatch:function(e){n(Object(l.h)(e))}}}))(a.a.memo(s))},292:function(n,e,t){"use strict";t.r(e);var r=t(12),a=t(0),i=t.n(a),o=t(46),c=t(259),l=t(3),s=t(4),f=t(1);function u(){var n=Object(l.a)(["\n  position: absolute;\n  z-index: 50;\n  top: 0;\n  left: 0;\n  bottom: ",";\n  right: 0;\n  >div{\n    position: absolute;\n    left: 0;\n    width: 100%;\n    overflow: visible;\n  }\n"]);return u=function(){return n},n}function d(){var n=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  background: white;\n  border-radius: .1rem;\n  z-index: 50;\n"]);return d=function(){return n},n}function m(){var n=Object(l.a)(["\n  position : fixed;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  box-sizing : border-box;\n  width : 1.2rem;\n  height : .4rem;\n  z-index : 50;\n  color : ",";\n  background : ",";\n  border-radius : .2rem;\n  text-align : center;\n  font-size : 0;\n  line-height : .4rem;\n  margin-top : -.55rem;\n  .iconfont {\n    display : inline-block;\n    margin-right : .1rem;\n    font-size : .12rem;\n    vertical-align : .01rem;\n  }\n  .text {\n    display : inline-block;\n    font-size : .14rem;\n    letter-spacing : .05rem;\n  }\n"]);return m=function(){return n},n}function g(){var n=Object(l.a)(["\n  position : relative;\n  width: 100%;\n  padding-top : 75%;\n  transform-origin: top;\n  background: url(",");\n  background-size: cover;\n  z-index: 50;\n  .filter {\n    position : absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background : rgba(7,17,27,0.3);\n  }\n"]);return g=function(){return n},n}function p(){var n=Object(l.a)(["\n  position : fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom : 0;\n  z-index: 100;\n  width: 100%;\n  overflow: hidden;\n  background : #f2f3f4;\n  transform-origin : right bottom;\n  &.fly-enter, &.fly-appear{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active, &.fly-appear-active{\n    transition: transform .3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit{\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n    transition: transform .3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"]);return p=function(){return n},n}var h=s.default.div(p()),b=s.default.div(g(),(function(n){return n.background})),v=s.default.div(m(),f.a["font-color-light"],f.a["theme-color"]),y=s.default.div(d()),x=s.default.div(u(),(function(n){return n.play?"60px":0})),E=t(102),j=t(266),O=t(58),w=t(269),z=t(260),k=t(94),C=t(268);e.default=Object(o.b)((function(n){return{artist:n.getIn(["singerInfo","artist"]),hotSongs:n.getIn(["singerInfo","hotSongs"]),songsCount:n.getIn(["player","playList"]).size,enterLoading:n.getIn(["singerInfo","enterLoading"])}}),(function(n){return{getSingerDataDispatch:function(e){n(Object(E.a)(!0)),n(Object(E.b)(e))}}}))(i.a.memo((function(n){var e=Object(a.useRef)(0),t=Object(a.useState)(!0),o=Object(r.a)(t,2),l=o[0],s=o[1],f=n.match.params.id,u=n.artist,d=n.hotSongs,m=n.songsCount,g=n.enterLoading,p=n.getSingerDataDispatch,E=u.toJS(),I=d.toJS(),R=Object(a.useRef)(),N=Object(a.useRef)(),S=Object(a.useRef)(),D=Object(a.useRef)(),L=Object(a.useRef)(),_=Object(a.useRef)(),q=Object(a.useRef)();Object(a.useEffect)((function(){p(f)}),[p,f]),Object(a.useEffect)((function(){if(!g){var n=S.current.offsetHeight;e.current=n,D.current.style.top="".concat(n-5,"px"),N.current.style.top="".concat(n-5,"px"),_.current.refresh()}}),[g]);var M=Object(a.useCallback)((function(){s(!1)}),[]);return i.a.createElement(c.a,{in:l,timeout:300,appear:!0,classNames:"fly",mountOnEnter:!0,unmountOnExit:!0,onExited:n.history.goBack},i.a.createElement(h,{play:m},g?i.a.createElement(z.a,null,i.a.createElement(k.a,{style:{zIndex:100}})):i.a.createElement(i.a.Fragment,null,i.a.createElement(j.a,{handleClick:M,title:E.name,ref:R}),i.a.createElement(b,{ref:S,background:E.picUrl},i.a.createElement("div",{className:"filter"})),i.a.createElement(v,{ref:L},i.a.createElement("i",{className:"iconfont"},""),i.a.createElement("span",{className:"text"},"收藏")),i.a.createElement(y,{ref:N}),i.a.createElement(x,{ref:D,play:m},i.a.createElement(O.a,{onScroll:function(n){var t=e.current,r=n.y,a=S.current,i=L.current,o=(D.current,N.current),c=R.current,l=-(t-5-c.getBoundingClientRect().height),s=Math.abs(r/t);r>0?(a.style.transform="scale(".concat(1+s,")"),i.style.transform="translate3d(0, ".concat(r,"px, 0)"),o.style.top="".concat(t-5+Math.abs(r),"px")):r>=l?(o.style.top="".concat(t-5-Math.abs(r),"px"),a.style.paddingTop="75%",a.style.height=0,a.style.zIndex=-1,i.style.transform="translate3d(0, ".concat(r,"px, 0)"),i.style.opacity="".concat(1-2*s)):r<l&&(c.style.zIndex=100,a.style.paddingTop=0,a.style.height="".concat(c.getBoundingClientRect().height,"px"),a.style.zIndex=99)},ref:_},i.a.createElement(w.a,{songs:I,showCollect:!1,musicAnimation:function(n,e){q.current.startAnimation({x:n,y:e})}}))),i.a.createElement(C.a,{ref:q}))))})))}}]);